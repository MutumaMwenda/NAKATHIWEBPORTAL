@model NAKATHIWEBPORTAL.Models.ContributionVm


<!-- /# column -->

@{
    Layout = null;
}


<!DOCTYPE html>
<html class="no-js" lang="">
<!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Nakathi Web Portal</title>
    <meta name="description" content="Ela Admin - HTML5 Admin Template">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.css">

    @Html.Partial("scripts12")


    @Html.Partial("style12")
</head>

<body>
    <!-- Left Panel -->
    @Html.Partial("sidebar")
    <!-- /#left-panel -->
    <!-- Right Panel -->
    <div id="right-panel" class="right-panel">
        <!-- Header-->
        @Html.Partial("dashboard12")
        <!-- /#header -->
        <!-- Content -->
        <div class="content">
            <!-- Animated -->
            <div class="animated fadeIn">


                <div style="line-height:4em;padding-bottom:1em;">
                    @if (TempData["success"] != null)
                    {
                        <div class="alert alert-success alert-dismissable" id="alert">
                            <strong>@TempData["success"]</strong>
                        </div>
                    }
                </div>

                <div style="line-height:4em;padding-bottom:1em;">
                    @if (TempData["error"] != null)
                    {
                        <div class="alert alert-success alert-dismissable" id="alert">
                            <strong>@TempData["error"]</strong>
                        </div>
                    }
                </div>


            </div>
            <div class="col-lg-12">

                <div class="card">
                    <div class="card-title">




                        <h3 class="text-info text-center">Vehicle Contribution Form</h3>
                        <hr />

                        @*<div class="row" style="margin-left:16px;margin-top:16px;margin-bottom:16px ;color:white">
                                <a href='@Url.Action("AddContribution", "Contribution")' class="btn btn-primary">Add Vehicle Based</a>
                                <a href='@Url.Action("AddIndContribution", "Contribution")' class="btn btn-primary" style="margin-left:16px">Add Individual Based</a>



                            </div>*@

                    </div>

                    <div style="line-height:4em;padding-bottom:1em;">
                        @if (TempData["success"] != null)
                        {
                            <div class="alert alert-success alert-dismissable" id="alert">
                                <strong>@TempData["success"]</strong>
                            </div>
                        }
                    </div>
                    @if (TempData["error"] != null)
                    {
                        <div class="alert alert-success alert-dismissable" id="alert">
                            <strong>@TempData["error"]</strong>
                        </div>
                    }
                    <div class="card-body">



                        <div class="horizontal-form-elements">

                            @using (Html.BeginForm())
                            {
                                @Html.AntiForgeryToken()
                                <div class="row">
                                    <div class="col-lg-12">
                                        @Html.ValidationSummary(true, "", new { @class = "text-danger" })



                                        <div class="form-group">

                                            <div class=" form-group ">
                                                <label for="inputState" class="col-sm-4 control-label text-sm">Select if Individual or Vehicle Based</label>
                                                <div class="col-sm-3">
                                                    <select id="inputState" class="">
                                                        <option selected>Choose...</option>
                                                        <option value="1">Individual</option>
                                                        <option value="2">Vehicle Based</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group  " id="idnumber ">
                                                @Html.LabelFor(model => model.member_id, htmlAttributes: new { @class = "col-sm-2 control-label text-sm" })
                                                <div class="col-sm-3">
                                                    @Html.TextBoxFor(model => model.member_id, new { htmlAttributes = new { @class = "form-contr" } })
                                                    @Html.ValidationMessageFor(model => model.member_id, "", new { @class = "text-danger" })
                                                </div>
                                            </div>



                                            <div class="form-group" id="name">
                                                @Html.LabelFor(model => model.reg_no, htmlAttributes: new { @class = "col-sm-2 control-label text-sm" })
                                                <div class="col-sm-3">
                                                    @Html.EditorFor(model => model.reg_no, new { htmlAttributes = new { @class = "form-contr" } })
                                                    @Html.ValidationMessageFor(model => model.reg_no, "", new { @class = "text-danger" })
                                                </div>
                                            </div>

                                            @*<div class="form-group">
                                                    @Html.LabelFor(model => model.id_number, htmlAttributes: new { @class = "col-sm-2 control-label text-sm" })
                                                    <div class="col-sm-3">
                                                        @Html.EditorFor(model => model.id_number, new { htmlAttributes = new { @class = "form-contr" } })
                                                        @Html.ValidationMessageFor(model => model.id_number, "", new { @class = "text-danger" })
                                                    </div>
                                                </div>*@

                                            <div class="form-group pull-right form-inline">
                                                @Html.LabelFor(model => model.amount, htmlAttributes: new { @style = "font-weight:bold;", @class = " text-bold control-label text-sm" })
                                                <div class="col-sm-3">
                                                    @Html.EditorFor(model => model.amount, new { htmlAttributes = new { @class = "form-contr", @onKeyUp = "sum()" } })
                                                    @Html.ValidationMessageFor(model => model.amount, "", new { @class = "text-danger" })
                                                </div>
                                            </div>



                                        </div>
                                        <div></div><div></div>



                                    </div>
                                </div>
                                <table class="table ">
                                    <tr>
                                    <th></th>
                                    <th>
                                        @Html.DisplayNameFor(model => model.name)
                                    </th>
                                    <th></th>
                                    <th>
                                        @Html.DisplayNameFor(model => model.amount)
                                    </th>
                                    </tr>

                                    @for (int i = 0; i < Model.list1.Count; i++)
                                    {
                                        <tr>
                                            <td>
                                                @Html.HiddenFor(model => Model.list1[i].id, new { htmlAttributes = new { @class = "form-control" } })


                                            </td>
                                            <td>
                                                @Html.DisplayFor(model => Model.list1[i].name, new { htmlAttributes = new { @class = "form-control" } })

                                            </td>
                                            <td>
                                                @Html.HiddenFor(model => Model.list1[i].con_type_name, new { htmlAttributes = new { @class = "form-control" } })


                                            </td>
                                            @if (Model.list1[i].contribution_type == 0)
                                            {
                                                <td>
                                                    @Html.EditorFor(model => Model.list1[i].amount, new { htmlAttributes = new { @class = " example form-control", @onKeyUp = "sum();" } })
                                                    @Html.ValidationMessageFor(model => Model.list1[i].amount, "", new { @class = "text-danger" })
                                                </td>

                                            }
                                            else
                                            {

                                                <td>
                                                    @Html.EditorFor(model => Model.list1[i].amount, new { htmlAttributes = new { @class = "example form-control", @readonly = "readonly" } })

                                                </td>
                                            }

                                            <td>
                                                @*<input id="responsable" name="checkResp" value="true" type="checkbox" />*@
                                                @*@Html.CheckBox("selected", false)*@
                                                @Html.CheckBoxFor(model => Model.list1[i].IsSelected)
                                            </td>

                                        </tr>
                                    }

                                </table>

                                <div class="row">
                                    <div class="">

                                        <div class="form-group form-inline pull-right">
                                        <label class="text-bold control-label text-sm">Total</label>
                                            @*@Html.LabelFor(model => model.totalamount, htmlAttributes: new { @style = "font-weight:bold;", @class = " text-bold control-label text-sm" })*@
                                        <div class="col-sm-3">
                                            <input type="text" class="form-control" value="" id="total">
                                            @*@Html.EditorFor(model => model.totalamount, new { htmlAttributes = new { @class = "form-contr", @id = "total", @onKeyUp = "sum()" } })*@
                                            @*@Html.ValidationMessageFor(model => model.totalamount, "", new { @class = "text-danger" })*@
                                        </div>
                                        </div>

                                        <div></div><div></div>



                                    </div>
                                </div>



                                <div class="form-group">


                                </div>
                                <div class="form-group pull-right" align="center">

                                    <input type="submit" class="btn btn-success" OnClientClick='return userValid();'>
                                </div>
                            }
                        </div>
                    </div>
                </div>
                <!-- /# card -->
            </div>





            <div />

            <!-- .animated -->
        </div>

        <!-- /.content -->
        <div class="clearfix"></div>
        <!-- Footer -->
        <footer class="site-footer">

            @*@Html.Partial("footer12")*@
        </footer>
        <!-- /.site-footer -->
        <!-- /#right-panel -->
        <!-- Scripts -->
        <!-- Your script -->'
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

        <script type='text/javascript'>

            $("#inputState").change(function () {

                var selected_option = $('#inputState').val();

                if (selected_option === '1') {
                    $("#idnumber").show();
                    $("#name").hide();
                }
                if (selected_option === '2') {
                    $("#name").show();
                    $("#idnumber").hide();
                }
            });




            function sum() {
                // Your total
                var total = 0;

                // Your textboxes to sum
                var textboxes = document.getElementsByClassName('example');

                // Iterate through your elements and parse their values
                for (var i = 0; i < textboxes.length; i++) {
                    // Add this to your total


                    if (!isNaN(textboxes[i].value) && textboxes[i].value != 0) {
                        total += parseFloat(textboxes[i].value);
                    }
                }



                // Output your result
                document.getElementById('total').value = total.toString();
            }






        </script>








</body>
</html>



































































































































































































<!-- /# column -->
